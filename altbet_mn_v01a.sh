#!/bin/bash
#Setup Variables
GREEN='\033[0;32m'
YELLOW='\033[0;93m'
RED='\033[0;31m'
NC='\033[0m'
#
#
PRIV_KEY_21=28g133ryHtsDntWdurLqDrPbQkyeM7CKTxNzGqUc47R6q6AuUgU
PRIV_KEY_22=28pxwRdChP2mC29zxVypsTyMwateHqztifGfFauA7EfGTnC9qpF
PRIV_KEY_23=27tV5suJKAWsBSvjjsZhsZqVv5PNx8CYUdg7CZ8yWFwmGBjPCSX
PRIV_KEY_24=28tPLSDtuzTjAEbCqXXU38fGFaBj2TrkDdDz3LkqHHAqUn5GGt6
PRIV_KEY_25=28TMM3NMHgN1H1c4j7Tk3TFneByUxsZhQuFnpwujfvk2sjRf4Xj
PRIV_KEY_26=27MnzV5E22ZsdyAX5pzZVPDHiZ2m6oRHzvUcMidA8fgy7aoAmJc
PRIV_KEY_27=287DcgrdVunXEuorrRLgES9gwfNdL4uPxRD1B6n93EjkqMrSLRc
PRIV_KEY_28=28dNx1CzHR1T8DYwrs8f5ffCBxbK4YuTsCkR3xquU7NH9pDsChg
PRIV_KEY_29=28JxmTkPkGh3Qnw2A22ELG1SL2XRDUsvmniNCQfHpoPAG7JtMFY
PRIV_KEY_30=27eNZRDndSpr6QJDSbDJQ9jXbqet5ydMCGYw7Ma85Sb5caBgr74
PRIV_KEY_31=28wQzCtXfcW9NjShJymcqXjGVyScHcX2YhoNARLst5VBbweD7Fq
PRIV_KEY_32=28fGCPpkdnqfLyFVSBRLmrSuP5Sg1LacXCUfpGA8HFjVCw7YkYB
PRIV_KEY_33=27gVPufXQDEkfZnhYcnaSrSfqSDcAhUA67qKkcFnyjSSX3Bq48i
PRIV_KEY_34=27EMygveEmpAMZhJ4p79mgFSJX6w6kPPQCtCk8BZQXwLxsbAmie
PRIV_KEY_35=28o4jmYbbjt5jdjmYmfF5zwzajwWXNG7uaoUvk875Znq9QyX9QU
PRIV_KEY_36=28pxwRdChP2mC29zxVypsTyMwateHqztifGfFauA7EfGTnC9qpF
PRIV_KEY_37=27tV5suJKAWsBSvjjsZhsZqVv5PNx8CYUdg7CZ8yWFwmGBjPCSX
PRIV_KEY_38=28tPLSDtuzTjAEbCqXXU38fGFaBj2TrkDdDz3LkqHHAqUn5GGt6
PRIV_KEY_39=28TMM3NMHgN1H1c4j7Tk3TFneByUxsZhQuFnpwujfvk2sjRf4Xj
PRIV_KEY_40=27MnzV5E22ZsdyAX5pzZVPDHiZ2m6oRHzvUcMidA8fgy7aoAmJc
PRIV_KEY_41=287DcgrdVunXEuorrRLgES9gwfNdL4uPxRD1B6n93EjkqMrSLRc
PRIV_KEY_42=28dNx1CzHR1T8DYwrs8f5ffCBxbK4YuTsCkR3xquU7NH9pDsChg
PRIV_KEY_43=28JxmTkPkGh3Qnw2A22ELG1SL2XRDUsvmniNCQfHpoPAG7JtMFY
PRIV_KEY_44=27eNZRDndSpr6QJDSbDJQ9jXbqet5ydMCGYw7Ma85Sb5caBgr74
PRIV_KEY_45=28wQzCtXfcW9NjShJymcqXjGVyScHcX2YhoNARLst5VBbweD7Fq
PRIV_KEY_46=28fGCPpkdnqfLyFVSBRLmrSuP5Sg1LacXCUfpGA8HFjVCw7YkYB
PRIV_KEY_47=27gVPufXQDEkfZnhYcnaSrSfqSDcAhUA67qKkcFnyjSSX3Bq48i
PRIV_KEY_48=27EMygveEmpAMZhJ4p79mgFSJX6w6kPPQCtCk8BZQXwLxsbAmie
PRIV_KEY_49=28o4jmYbbjt5jdjmYmfF5zwzajwWXNG7uaoUvk875Znq9QyX9QU
PRIV_KEY_50=2865e8M5srCmdKqv7HNY8MEYaVvQihC24sCse7ME1ZLJRvJAjkK
PRIV_KEY_51=27PoegLHVHQ6a5X9eBtKiF31HAEGafpP3M1SUMnSD3KoPgn9SZ3
PRIV_KEY_52=28oKMny3kvcfe61HioofgFvxemaeW5RXkHuTJKy6tgJeyZ1baem
#
PROXY_01=172.241.236.174
PROXY_02=172.241.236.253
PROXY_03=198.71.85.119
PROXY_04=198.71.85.198
PROXY_05=198.71.85.248
PROXY_06=23.105.3.115
PROXY_07=23.105.3.193
PROXY_08=23.105.3.43
PROXY_09=23.105.4.173
PROXY_10=23.105.4.237
PROXY_11=23.105.4.93
PROXY_12=23.108.24.168
PROXY_13=23.108.24.86
PROXY_14=23.108.24.9
PROXY_15=23.80.141.229
PROXY_16=23.80.141.232
PROXY_17=23.80.141.87
PROXY_18=23.80.142.113
PROXY_19=23.80.142.170
PROXY_20=23.80.142.6
PROXY_21=23.81.67.118
PROXY_22=23.81.67.172
PROXY_23=23.81.67.59
PROXY_24=23.81.67.75
PROXY_25=23.82.104.11
PROXY_26=23.82.104.157
PROXY_27=23.82.104.3
PROXY_28=23.82.106.139
PROXY_29=23.82.106.205
PROXY_30=23.82.106.74
PROXY_31=172.241.246.24
PROXY_32=172.241.246.56
PROXY_33=172.241.246.99
PROXY_34=172.241.247.12
PROXY_35=172.241.247.209
PROXY_36=172.241.247.34
PROXY_37=172.255.93.33
PROXY_38=172.255.93.6
PROXY_39=172.255.94.108
PROXY_40=172.255.94.36
PROXY_41=172.255.94.91
PROXY_42=23.80.156.14
PROXY_43=23.80.156.32
PROXY_44=23.80.157.113
PROXY_45=23.80.157.202
PROXY_46=23.80.157.64
PROXY_47=23.81.57.166
PROXY_48=23.81.57.184
PROXY_49=23.81.57.219
PROXY_50=23.81.58.112
PROXY_51=23.81.58.244
PROXY_52=23.81.58.88
#
for num in {21..26}
do
   nn=$(printf "%02d" $num)
# Use $nn for your purposes
 port=$((num - 1 + 8322))
 rpcport=$((num + 9322))
#
 eval pk='$'PRIV_KEY_"$nn"
 eval proxy='$'PROXY_"$nn"
#
#cd /home/altbet_$nn
 sudo adduser --system --home /home/altbet_$nn altbet_$nn
 sudo mkdir /home/altbet_$nn/.altbet
 sudo touch /home/altbet_$nn/.altbet/altbet.conf
#
cat > "/home/altbet_$nn/.altbet/altbet.conf" << EOL
# rpc config
rpcuser=altbetuser${nn}
rpcpassword=RtXccK5mFMc1IHUNxMHKG7KLoQR8sDzE
rpcallowip=127.0.0.1
rpcbind=127.0.0.1
rpcport=${rpcport}
# altbetd config
listen=1
server=1
daemon=1
maxconnections=64
#addressindex=1
debug=0
# masternode config
masternode=1
masternodeprivkey=${pk}
masternodeaddr=24.99.223.29:8322
externalip=${proxy}:8322
port=${port}
#Altbet addnodes
addnode=173.249.42.253:8322
addnode=119.29.69.190:8322
addnode=176.9.175.163:8322
addnode=14.51.42.70:8322
addnode=45.77.51.174:8322
addnode=167.71.0.207:8322
addnode=95.179.155.105:8322
addnode=217.69.13.180:8322
addnode=46.4.178.73:8322
addnode=188.40.169.71:8322
addnode=81.222.228.66:8322
addnode=144.202.107.249:8322
addnode=8.9.36.49:8322
addnode=95.217.48.249:8322
addnode=140.82.1.78:8322
addnode=95.216.82.97:8322
EOL
#
cp -r /home/altbet_01/.altbet/blocks /home/altbet_$nn/.altbet/
cp -r /home/altbet_01/.altbet/chainstate /home/altbet_$nn/.altbet/
cp -r /home/altbet_01/.altbet/database /home/altbet_$nn/.altbet/
#
altbetd_$nn -conf=/home/altbet_$nn/.altbet/altbet.conf -datadir=/home/altbet_$nn/.altbet -daemon -prune=100
echo -e ${YELLOW}"Syncing of Masternode $nn has begun..."${NC}
sleep 10
until altbet-cli -datadir=/home/altbet_$nn/.altbet mnsync status | grep -m 1 '"IsBlockchainSynced": true,'; do sleep 1 ; done > /dev/null 2>&1
echo -e ${GREEN}"Masternode $nn is fully synced!"${NC}
done
#
echo ""
echo -e ${GREEN}"Congrats! Your altbet coin Masternodes are now installed and started"${NC}
echo ""
echo "$(date)"
echo "";
